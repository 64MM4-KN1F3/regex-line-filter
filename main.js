/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => RegexLineFilterPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var import_state = require("@codemirror/state");
var import_view = require("@codemirror/view");
var REGEX_HISTORY_LIMIT = 5;
var ACTIVE_FILTER_BODY_CLASS = "regex-filter-active-body";
var DEFAULT_SETTINGS = { hideEmptyLines: true, regexHistory: [] };
var setRegexEffect = import_state.StateEffect.define();
var toggleFilterEffect = import_state.StateEffect.define();
var setHideEmptyLinesEffect = import_state.StateEffect.define();
var filterViewPlugin = import_view.ViewPlugin.fromClass(
  class {
    constructor(view) {
      this.decorations = this.buildDecorations(view);
    }
    update(update) {
      if (update.docChanged || update.viewportChanged || update.state.field(filterStateField) !== update.startState.field(filterStateField)) {
        this.decorations = this.buildDecorations(update.view);
      }
    }
    buildDecorations(view) {
      const builder = new import_state.RangeSetBuilder();
      const { regex, enabled, hideEmptyLines } = view.state.field(filterStateField);
      if (!enabled || !regex) {
        return builder.finish();
      }
      const doc = view.state.doc;
      try {
        for (let i = 1; i <= doc.lines; i++) {
          const line = doc.line(i);
          const lineText = line == null ? void 0 : line.text;
          if (typeof lineText !== "string") {
            continue;
          }
          const isEmpty = lineText.trim().length === 0;
          let shouldHide = false;
          let matchesRegex = regex.test(lineText);
          if (!matchesRegex) {
            shouldHide = true;
          }
          if (hideEmptyLines && isEmpty) {
            shouldHide = true;
          }
          if (shouldHide) {
            builder.add(line.from, line.from, import_view.Decoration.line({ attributes: { class: "regex-filter-hidden-line" } }));
          }
        }
      } catch (e) {
        console.error("Regex Line Filter: Error during decoration build:", e);
      }
      return builder.finish();
    }
  },
  { decorations: (v) => v.decorations }
);
var filterStateField = import_state.StateField.define({
  create(state) {
    return { regex: null, enabled: false, hideEmptyLines: DEFAULT_SETTINGS.hideEmptyLines };
  },
  update(value, tr) {
    let newValue = { ...value };
    for (let effect of tr.effects) {
      if (effect.is(setRegexEffect)) {
        newValue.regex = effect.value;
        newValue.enabled = !!effect.value;
      }
      if (effect.is(toggleFilterEffect)) {
        newValue.enabled = effect.value;
        if (!effect.value) {
          newValue.enabled = false;
        } else if (!newValue.regex) {
          newValue.enabled = false;
          console.warn("Attempted to enable filter without a regex.");
        }
      }
      if (effect.is(setHideEmptyLinesEffect)) {
        newValue.hideEmptyLines = effect.value;
      }
    }
    return newValue;
  }
});
var RegexLineFilterPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.lastRegexStr = null;
    this.cssStyleEl = null;
  }
  async onload() {
    console.log("Loading Regex Line Filter plugin");
    await this.loadSettings();
    this.addCommand({ id: "toggle-regex-filter", name: "Toggle Regex Line Filter", editorCallback: (editor, view) => {
      this.toggleFilter(editor, view);
    } });
    this.addSettingTab(new RegexLineFilterSettingTab(this.app, this));
    this.registerEditorExtension([filterStateField, filterViewPlugin]);
    this.addCss();
    this.app.workspace.onLayoutReady(() => {
      this.dispatchSettingToEditors(this.settings.hideEmptyLines);
    });
  }
  onunload() {
    console.log("Unloading Regex Line Filter plugin");
    this.removeCss();
    this.app.workspace.iterateCodeMirrors((cm) => {
      try {
        const currentFilterState = cm.state.field(filterStateField, false);
        if (currentFilterState == null ? void 0 : currentFilterState.enabled) {
          cm.dispatch({ effects: toggleFilterEffect.of(false) });
        }
      } catch (e) {
      }
    });
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
    if (!Array.isArray(this.settings.regexHistory)) {
      this.settings.regexHistory = [];
    }
    this.settings.regexHistory = this.settings.regexHistory.slice(0, REGEX_HISTORY_LIMIT);
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  updateRegexHistory(newRegexString) {
    const filteredHistory = this.settings.regexHistory.filter((r) => r !== newRegexString);
    const updatedHistory = [newRegexString, ...filteredHistory];
    this.settings.regexHistory = updatedHistory.slice(0, REGEX_HISTORY_LIMIT);
    this.saveSettings();
  }
  dispatchSettingToEditors(newValue) {
    this.app.workspace.iterateCodeMirrors((cm) => {
      try {
        if (cm.state.field(filterStateField, false) !== void 0) {
          cm.dispatch({ effects: setHideEmptyLinesEffect.of(newValue) });
        }
      } catch (e) {
        console.warn("Regex Line Filter: Error dispatching setting", e);
      }
    });
  }
  // ----- Add CSS including the body class rule -----
  addCss() {
    if (document.getElementById("regex-filter-styles"))
      return;
    const css = `
            /* Rule to hide non-matching lines */
            .regex-filter-hidden-line {
                display: none !important;
            }

            /* Rule to style the active view when filter is on */
            body.${ACTIVE_FILTER_BODY_CLASS} .workspace-leaf.mod-active .view-content {
                /* Inset box shadow to darken edges */
                box-shadow: inset 0 0 0 70px rgba(0, 0, 0, 0.15); /* Adjust size/color/opacity */

                /* Alternatively, adjust padding and background */
                /* padding: 30px !important; */
                /* background-color: var(--background-secondary) !important; */

                transition: box-shadow 0.3s ease-in; /* Optional smooth transition */
            }

            /* Ensure padding doesn't affect CodeMirror gutter/line numbers if using padding approach */
            /* body.${ACTIVE_FILTER_BODY_CLASS} .workspace-leaf.mod-active .cm-editor { padding: 0 !important; } */
        `;
    this.cssStyleEl = document.createElement("style");
    this.cssStyleEl.id = "regex-line-filter-styles";
    this.cssStyleEl.textContent = css;
    document.head.appendChild(this.cssStyleEl);
  }
  // ----- End addCss -----
  // ----- removeCss now also removes body class -----
  removeCss() {
    if (this.cssStyleEl) {
      this.cssStyleEl.remove();
      this.cssStyleEl = null;
    }
    const existingStyle = document.getElementById("regex-line-filter-styles");
    if (existingStyle) {
      existingStyle.remove();
    }
    document.body.classList.remove(ACTIVE_FILTER_BODY_CLASS);
  }
  // ----- End removeCss -----
  // ----- toggleFilter manages body class -----
  toggleFilter(editor, view) {
    const cm = editor.cm;
    if (!cm || !(cm instanceof import_view.EditorView)) {
      new import_obsidian.Notice("Regex filter only works in Live Preview or Source Mode.");
      return;
    }
    const currentFilterState = cm.state.field(filterStateField, false);
    if (currentFilterState === void 0) {
      new import_obsidian.Notice("Filter not ready. Please try toggling again.");
      return;
    }
    if (currentFilterState.enabled) {
      cm.dispatch({ effects: toggleFilterEffect.of(false) });
      document.body.classList.remove(ACTIVE_FILTER_BODY_CLASS);
      new import_obsidian.Notice("Regex filter disabled.");
    } else {
      this.promptForRegex(cm);
    }
  }
  // ----- End toggleFilter -----
  // ----- promptForRegex manages body class -----
  promptForRegex(cm) {
    var _a, _b;
    const prefillValue = (_b = (_a = this.lastRegexStr) != null ? _a : this.settings.regexHistory[0]) != null ? _b : "";
    new RegexInputModal(this.app, prefillValue, this.settings.regexHistory, (result) => {
      if (result) {
        try {
          const regex = new RegExp(result, "u");
          this.lastRegexStr = result;
          this.updateRegexHistory(result);
          cm.dispatch({ effects: [setRegexEffect.of(regex)] });
          document.body.classList.add(ACTIVE_FILTER_BODY_CLASS);
          new import_obsidian.Notice(`Regex filter enabled: /${result}/u`);
        } catch (e) {
          const errorMessage = e instanceof Error ? e.message : String(e);
          new import_obsidian.Notice(`Invalid Regex: ${errorMessage}`);
          console.error("Regex Compile Error:", e);
          document.body.classList.remove(ACTIVE_FILTER_BODY_CLASS);
          try {
            cm.dispatch({ effects: toggleFilterEffect.of(false) });
          } catch (e2) {
          }
        }
      } else {
        new import_obsidian.Notice("Regex filter cancelled.");
        document.body.classList.remove(ACTIVE_FILTER_BODY_CLASS);
        try {
          cm.dispatch({ effects: toggleFilterEffect.of(false) });
        } catch (e) {
        }
      }
    }).open();
  }
  // ----- End promptForRegex -----
};
var RegexLineFilterSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Regex Line Filter Settings" });
    new import_obsidian.Setting(containerEl).setName("Hide empty lines").setDesc("When the filter is active, also hide lines that contain only whitespace.").addToggle((toggle) => toggle.setValue(this.plugin.settings.hideEmptyLines).onChange(async (value) => {
      this.plugin.settings.hideEmptyLines = value;
      await this.plugin.saveSettings();
      this.plugin.dispatchSettingToEditors(value);
    }));
  }
};
var RegexInputModal = class extends import_obsidian.Modal {
  constructor(app, initialValue, history, onSubmit) {
    super(app);
    this.textInputEl = null;
    this.initialValue = initialValue;
    this.history = history;
    this.onSubmit = onSubmit;
    this.result = initialValue;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Enter Regex Filter" });
    this.inputComponent = new import_obsidian.Setting(contentEl).setName("Regular Expression (supports emoji):").addText((text) => {
      this.textInputEl = text.inputEl;
      text.setValue(this.initialValue).setPlaceholder("e.g., ^\\s*- \\[ \\].*\u{1F4A1}").onChange((value) => {
        this.result = value;
      });
      text.inputEl.focus();
      text.inputEl.select();
      text.inputEl.addEventListener("keydown", (e) => {
        if (e.key === "Enter" && !e.shiftKey && !e.ctrlKey && !e.metaKey && !e.altKey) {
          e.preventDefault();
          this.submit();
        }
      });
    });
    this.inputComponent.controlEl.addClass("regex-filter-input-control");
    if (this.history && this.history.length > 0) {
      const historyEl = contentEl.createDiv({ cls: "regex-filter-history-container" });
      historyEl.createSpan({ text: "History:", cls: "regex-filter-history-label" });
      this.history.forEach((histEntry) => {
        const btn = historyEl.createEl("button", { text: `/${histEntry}/`, cls: "regex-filter-history-item", attr: { title: histEntry } });
        btn.addEventListener("click", () => {
          if (this.textInputEl) {
            this.textInputEl.value = histEntry;
            this.result = histEntry;
            this.textInputEl.focus();
          }
        });
      });
    }
    new import_obsidian.Setting(contentEl).addButton((btn) => btn.setButtonText("Apply Filter").setCta().onClick(() => {
      this.submit();
    })).addButton((btn) => btn.setButtonText("Cancel").onClick(() => {
      this.close();
      this.onSubmit(null);
    }));
  }
  submit() {
    if (this.result && this.result.trim().length > 0) {
      this.close();
      this.onSubmit(this.result);
    } else if (this.result === "") {
      new import_obsidian.Notice("Regex cannot be empty. Filter cancelled.");
      this.close();
      this.onSubmit(null);
    } else {
      new import_obsidian.Notice("Please enter a regular expression.");
    }
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBlZGl0b3JJbmZvRmllbGQsIFRGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgRWRpdG9yU3RhdGUsIFN0YXRlRmllbGQsIFN0YXRlRWZmZWN0LCBFeHRlbnNpb24sIFJhbmdlU2V0QnVpbGRlciB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7IERlY29yYXRpb24sIERlY29yYXRpb25TZXQsIEVkaXRvclZpZXcsIFZpZXdQbHVnaW4sIFZpZXdVcGRhdGUsIFdpZGdldFR5cGUgfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcblxuLy8gLS0tIENvbnN0YW50cyAtLS1cbmNvbnN0IFJFR0VYX0hJU1RPUllfTElNSVQgPSA1O1xuY29uc3QgQUNUSVZFX0ZJTFRFUl9CT0RZX0NMQVNTID0gJ3JlZ2V4LWZpbHRlci1hY3RpdmUtYm9keSc7IC8vIENTUyBDbGFzcyBmb3IgYm9keVxuXG4vLyAtLS0gU2V0dGluZ3MgLS0tXG5pbnRlcmZhY2UgUmVnZXhMaW5lRmlsdGVyU2V0dGluZ3MgeyBoaWRlRW1wdHlMaW5lczogYm9vbGVhbjsgcmVnZXhIaXN0b3J5OiBzdHJpbmdbXTsgfVxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogUmVnZXhMaW5lRmlsdGVyU2V0dGluZ3MgPSB7IGhpZGVFbXB0eUxpbmVzOiB0cnVlLCByZWdleEhpc3Rvcnk6IFtdLCB9XG5cbi8vIC0tLSBTdGF0ZSAmIEVmZmVjdHMgLS0tXG5pbnRlcmZhY2UgRmlsdGVyU3RhdGUgeyByZWdleDogUmVnRXhwIHwgbnVsbDsgZW5hYmxlZDogYm9vbGVhbjsgaGlkZUVtcHR5TGluZXM6IGJvb2xlYW47IH1cbmNvbnN0IHNldFJlZ2V4RWZmZWN0ID0gU3RhdGVFZmZlY3QuZGVmaW5lPFJlZ0V4cCB8IG51bGw+KCk7XG5jb25zdCB0b2dnbGVGaWx0ZXJFZmZlY3QgPSBTdGF0ZUVmZmVjdC5kZWZpbmU8Ym9vbGVhbj4oKTtcbmNvbnN0IHNldEhpZGVFbXB0eUxpbmVzRWZmZWN0ID0gU3RhdGVFZmZlY3QuZGVmaW5lPGJvb2xlYW4+KCk7XG5cbi8vIC0tLSBWaWV3UGx1Z2luIGRlZmluaXRpb24gLS0tXG5jb25zdCBmaWx0ZXJWaWV3UGx1Z2luID0gVmlld1BsdWdpbi5mcm9tQ2xhc3MoXG4gICAgY2xhc3Mge1xuICAgICAgICBkZWNvcmF0aW9uczogRGVjb3JhdGlvblNldDtcbiAgICAgICAgY29uc3RydWN0b3IodmlldzogRWRpdG9yVmlldykgeyB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5idWlsZERlY29yYXRpb25zKHZpZXcpOyB9XG4gICAgICAgIHVwZGF0ZSh1cGRhdGU6IFZpZXdVcGRhdGUpIHtcbiAgICAgICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkIHx8IHVwZGF0ZS5zdGF0ZS5maWVsZChmaWx0ZXJTdGF0ZUZpZWxkKSAhPT0gdXBkYXRlLnN0YXJ0U3RhdGUuZmllbGQoZmlsdGVyU3RhdGVGaWVsZCkpIHtcbiAgICAgICAgICAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IHRoaXMuYnVpbGREZWNvcmF0aW9ucyh1cGRhdGUudmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnVpbGREZWNvcmF0aW9ucyh2aWV3OiBFZGl0b3JWaWV3KTogRGVjb3JhdGlvblNldCB7XG4gICAgICAgICAgICBjb25zdCBidWlsZGVyID0gbmV3IFJhbmdlU2V0QnVpbGRlcjxEZWNvcmF0aW9uPigpO1xuICAgICAgICAgICAgY29uc3QgeyByZWdleCwgZW5hYmxlZCwgaGlkZUVtcHR5TGluZXMgfSA9IHZpZXcuc3RhdGUuZmllbGQoZmlsdGVyU3RhdGVGaWVsZCk7XG4gICAgICAgICAgICBpZiAoIWVuYWJsZWQgfHwgIXJlZ2V4KSB7IHJldHVybiBidWlsZGVyLmZpbmlzaCgpOyB9XG4gICAgICAgICAgICBjb25zdCBkb2MgPSB2aWV3LnN0YXRlLmRvYztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gZG9jLmxpbmVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IGRvYy5saW5lKGkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lVGV4dCA9IGxpbmU/LnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGluZVRleHQgIT09ICdzdHJpbmcnKSB7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRW1wdHkgPSBsaW5lVGV4dC50cmltKCkubGVuZ3RoID09PSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2hvdWxkSGlkZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hlc1JlZ2V4ID0gcmVnZXgudGVzdChsaW5lVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlc1JlZ2V4KSB7IHNob3VsZEhpZGUgPSB0cnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChoaWRlRW1wdHlMaW5lcyAmJiBpc0VtcHR5KSB7IHNob3VsZEhpZGUgPSB0cnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRIaWRlKSB7IGJ1aWxkZXIuYWRkKGxpbmUuZnJvbSwgbGluZS5mcm9tLCBEZWNvcmF0aW9uLmxpbmUoeyBhdHRyaWJ1dGVzOiB7IGNsYXNzOiAncmVnZXgtZmlsdGVyLWhpZGRlbi1saW5lJyB9IH0pKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgY29uc29sZS5lcnJvcihcIlJlZ2V4IExpbmUgRmlsdGVyOiBFcnJvciBkdXJpbmcgZGVjb3JhdGlvbiBidWlsZDpcIiwgZSk7IH1cbiAgICAgICAgICAgIHJldHVybiBidWlsZGVyLmZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7IGRlY29yYXRpb25zOiAodikgPT4gdi5kZWNvcmF0aW9ucywgfVxuKTtcbi8vIC0tLSBFbmQgb2YgVmlld1BsdWdpbiBkZWZpbml0aW9uIC0tLVxuXG5cbi8vIC0tLSBTdGF0ZUZpZWxkIGRlZmluaXRpb24gLS0tXG5jb25zdCBmaWx0ZXJTdGF0ZUZpZWxkID0gU3RhdGVGaWVsZC5kZWZpbmU8RmlsdGVyU3RhdGU+KHtcbiAgICBjcmVhdGUoc3RhdGUpOiBGaWx0ZXJTdGF0ZSB7IHJldHVybiB7IHJlZ2V4OiBudWxsLCBlbmFibGVkOiBmYWxzZSwgaGlkZUVtcHR5TGluZXM6IERFRkFVTFRfU0VUVElOR1MuaGlkZUVtcHR5TGluZXMsIH07IH0sXG4gICAgdXBkYXRlKHZhbHVlLCB0cik6IEZpbHRlclN0YXRlIHsgbGV0IG5ld1ZhbHVlOiBGaWx0ZXJTdGF0ZSA9IHsgLi4udmFsdWUgfTsgZm9yIChsZXQgZWZmZWN0IG9mIHRyLmVmZmVjdHMpIHsgaWYgKGVmZmVjdC5pcyhzZXRSZWdleEVmZmVjdCkpIHsgbmV3VmFsdWUucmVnZXggPSBlZmZlY3QudmFsdWU7IG5ld1ZhbHVlLmVuYWJsZWQgPSAhIWVmZmVjdC52YWx1ZTsgfSBpZiAoZWZmZWN0LmlzKHRvZ2dsZUZpbHRlckVmZmVjdCkpIHsgbmV3VmFsdWUuZW5hYmxlZCA9IGVmZmVjdC52YWx1ZTsgaWYgKCFlZmZlY3QudmFsdWUpIHsgbmV3VmFsdWUuZW5hYmxlZCA9IGZhbHNlOyB9IGVsc2UgaWYgKCFuZXdWYWx1ZS5yZWdleCkgeyBuZXdWYWx1ZS5lbmFibGVkID0gZmFsc2U7IGNvbnNvbGUud2FybihcIkF0dGVtcHRlZCB0byBlbmFibGUgZmlsdGVyIHdpdGhvdXQgYSByZWdleC5cIik7IH0gfSBpZiAoZWZmZWN0LmlzKHNldEhpZGVFbXB0eUxpbmVzRWZmZWN0KSkgeyBuZXdWYWx1ZS5oaWRlRW1wdHlMaW5lcyA9IGVmZmVjdC52YWx1ZTsgfSB9IHJldHVybiBuZXdWYWx1ZTsgfVxufSk7XG5cbi8vIC0tLSBQbHVnaW4gQ2xhc3MgZGVmaW5pdGlvbiAtLS1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlZ2V4TGluZUZpbHRlclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gICAgc2V0dGluZ3M6IFJlZ2V4TGluZUZpbHRlclNldHRpbmdzOyBsYXN0UmVnZXhTdHI6IHN0cmluZyB8IG51bGwgPSBudWxsOyBjc3NTdHlsZUVsOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAgIGFzeW5jIG9ubG9hZCgpIHsgY29uc29sZS5sb2coJ0xvYWRpbmcgUmVnZXggTGluZSBGaWx0ZXIgcGx1Z2luJyk7IGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7IHRoaXMuYWRkQ29tbWFuZCh7IGlkOiAndG9nZ2xlLXJlZ2V4LWZpbHRlcicsIG5hbWU6ICdUb2dnbGUgUmVnZXggTGluZSBGaWx0ZXInLCBlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHsgdGhpcy50b2dnbGVGaWx0ZXIoZWRpdG9yLCB2aWV3KTsgfSwgfSk7IHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgUmVnZXhMaW5lRmlsdGVyU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpOyB0aGlzLnJlZ2lzdGVyRWRpdG9yRXh0ZW5zaW9uKFtmaWx0ZXJTdGF0ZUZpZWxkLCBmaWx0ZXJWaWV3UGx1Z2luXSk7IHRoaXMuYWRkQ3NzKCk7IHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHsgdGhpcy5kaXNwYXRjaFNldHRpbmdUb0VkaXRvcnModGhpcy5zZXR0aW5ncy5oaWRlRW1wdHlMaW5lcyk7IH0pOyB9XG4gICAgb251bmxvYWQoKSB7IGNvbnNvbGUubG9nKCdVbmxvYWRpbmcgUmVnZXggTGluZSBGaWx0ZXIgcGx1Z2luJyk7IHRoaXMucmVtb3ZlQ3NzKCk7IC8vIHJlbW92ZUNzcyBub3cgYWxzbyBoYW5kbGVzIGJvZHkgY2xhc3NcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLml0ZXJhdGVDb2RlTWlycm9ycyhjbSA9PiB7IHRyeSB7IGNvbnN0IGN1cnJlbnRGaWx0ZXJTdGF0ZSA9IGNtLnN0YXRlLmZpZWxkKGZpbHRlclN0YXRlRmllbGQsIGZhbHNlKTsgaWYgKGN1cnJlbnRGaWx0ZXJTdGF0ZT8uZW5hYmxlZCkgeyBjbS5kaXNwYXRjaCh7IGVmZmVjdHM6IHRvZ2dsZUZpbHRlckVmZmVjdC5vZihmYWxzZSkgfSk7IH0gfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfSB9KTsgfVxuICAgIGFzeW5jIGxvYWRTZXR0aW5ncygpIHsgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7IGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnNldHRpbmdzLnJlZ2V4SGlzdG9yeSkpIHsgdGhpcy5zZXR0aW5ncy5yZWdleEhpc3RvcnkgPSBbXTsgfSB0aGlzLnNldHRpbmdzLnJlZ2V4SGlzdG9yeSA9IHRoaXMuc2V0dGluZ3MucmVnZXhIaXN0b3J5LnNsaWNlKDAsIFJFR0VYX0hJU1RPUllfTElNSVQpOyB9XG4gICAgYXN5bmMgc2F2ZVNldHRpbmdzKCkgeyBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpOyB9XG4gICAgdXBkYXRlUmVnZXhIaXN0b3J5KG5ld1JlZ2V4U3RyaW5nOiBzdHJpbmcpIHsgY29uc3QgZmlsdGVyZWRIaXN0b3J5ID0gdGhpcy5zZXR0aW5ncy5yZWdleEhpc3RvcnkuZmlsdGVyKHIgPT4gciAhPT0gbmV3UmVnZXhTdHJpbmcpOyBjb25zdCB1cGRhdGVkSGlzdG9yeSA9IFtuZXdSZWdleFN0cmluZywgLi4uZmlsdGVyZWRIaXN0b3J5XTsgdGhpcy5zZXR0aW5ncy5yZWdleEhpc3RvcnkgPSB1cGRhdGVkSGlzdG9yeS5zbGljZSgwLCBSRUdFWF9ISVNUT1JZX0xJTUlUKTsgdGhpcy5zYXZlU2V0dGluZ3MoKTsgfVxuICAgIGRpc3BhdGNoU2V0dGluZ1RvRWRpdG9ycyhuZXdWYWx1ZTogYm9vbGVhbikgeyB0aGlzLmFwcC53b3Jrc3BhY2UuaXRlcmF0ZUNvZGVNaXJyb3JzKGNtID0+IHsgdHJ5IHsgaWYgKGNtLnN0YXRlLmZpZWxkKGZpbHRlclN0YXRlRmllbGQsIGZhbHNlKSAhPT0gdW5kZWZpbmVkKSB7IGNtLmRpc3BhdGNoKHsgZWZmZWN0czogc2V0SGlkZUVtcHR5TGluZXNFZmZlY3Qub2YobmV3VmFsdWUpIH0pOyB9IH0gY2F0Y2ggKGUpIHsgY29uc29sZS53YXJuKFwiUmVnZXggTGluZSBGaWx0ZXI6IEVycm9yIGRpc3BhdGNoaW5nIHNldHRpbmdcIiwgZSk7IH0gfSk7IH1cblxuICAgIC8vIC0tLS0tIEFkZCBDU1MgaW5jbHVkaW5nIHRoZSBib2R5IGNsYXNzIHJ1bGUgLS0tLS1cbiAgICBhZGRDc3MoKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnZXgtZmlsdGVyLXN0eWxlcycpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNzcyA9IGBcbiAgICAgICAgICAgIC8qIFJ1bGUgdG8gaGlkZSBub24tbWF0Y2hpbmcgbGluZXMgKi9cbiAgICAgICAgICAgIC5yZWdleC1maWx0ZXItaGlkZGVuLWxpbmUge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogUnVsZSB0byBzdHlsZSB0aGUgYWN0aXZlIHZpZXcgd2hlbiBmaWx0ZXIgaXMgb24gKi9cbiAgICAgICAgICAgIGJvZHkuJHtBQ1RJVkVfRklMVEVSX0JPRFlfQ0xBU1N9IC53b3Jrc3BhY2UtbGVhZi5tb2QtYWN0aXZlIC52aWV3LWNvbnRlbnQge1xuICAgICAgICAgICAgICAgIC8qIEluc2V0IGJveCBzaGFkb3cgdG8gZGFya2VuIGVkZ2VzICovXG4gICAgICAgICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgNzBweCByZ2JhKDAsIDAsIDAsIDAuMTUpOyAvKiBBZGp1c3Qgc2l6ZS9jb2xvci9vcGFjaXR5ICovXG5cbiAgICAgICAgICAgICAgICAvKiBBbHRlcm5hdGl2ZWx5LCBhZGp1c3QgcGFkZGluZyBhbmQgYmFja2dyb3VuZCAqL1xuICAgICAgICAgICAgICAgIC8qIHBhZGRpbmc6IDMwcHggIWltcG9ydGFudDsgKi9cbiAgICAgICAgICAgICAgICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSkgIWltcG9ydGFudDsgKi9cblxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGJveC1zaGFkb3cgMC4zcyBlYXNlLWluOyAvKiBPcHRpb25hbCBzbW9vdGggdHJhbnNpdGlvbiAqL1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiBFbnN1cmUgcGFkZGluZyBkb2Vzbid0IGFmZmVjdCBDb2RlTWlycm9yIGd1dHRlci9saW5lIG51bWJlcnMgaWYgdXNpbmcgcGFkZGluZyBhcHByb2FjaCAqL1xuICAgICAgICAgICAgLyogYm9keS4ke0FDVElWRV9GSUxURVJfQk9EWV9DTEFTU30gLndvcmtzcGFjZS1sZWFmLm1vZC1hY3RpdmUgLmNtLWVkaXRvciB7IHBhZGRpbmc6IDAgIWltcG9ydGFudDsgfSAqL1xuICAgICAgICBgO1xuICAgICAgICB0aGlzLmNzc1N0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICB0aGlzLmNzc1N0eWxlRWwuaWQgPSAncmVnZXgtbGluZS1maWx0ZXItc3R5bGVzJztcbiAgICAgICAgdGhpcy5jc3NTdHlsZUVsLnRleHRDb250ZW50ID0gY3NzO1xuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuY3NzU3R5bGVFbCk7XG4gICAgIH1cbiAgICAvLyAtLS0tLSBFbmQgYWRkQ3NzIC0tLS0tXG5cbiAgICAvLyAtLS0tLSByZW1vdmVDc3Mgbm93IGFsc28gcmVtb3ZlcyBib2R5IGNsYXNzIC0tLS0tXG4gICAgcmVtb3ZlQ3NzKCkge1xuICAgICAgICAgLy8gUmVtb3ZlIHRoZSBzdHlsZSB0YWdcbiAgICAgICAgIGlmICh0aGlzLmNzc1N0eWxlRWwpIHsgdGhpcy5jc3NTdHlsZUVsLnJlbW92ZSgpOyB0aGlzLmNzc1N0eWxlRWwgPSBudWxsOyB9XG4gICAgICAgICBjb25zdCBleGlzdGluZ1N0eWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2V4LWxpbmUtZmlsdGVyLXN0eWxlcycpO1xuICAgICAgICAgaWYgKGV4aXN0aW5nU3R5bGUpIHsgZXhpc3RpbmdTdHlsZS5yZW1vdmUoKTsgfVxuICAgICAgICAgLy8gUmVtb3ZlIHRoZSBib2R5IGNsYXNzXG4gICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoQUNUSVZFX0ZJTFRFUl9CT0RZX0NMQVNTKTtcbiAgICB9XG4gICAgLy8gLS0tLS0gRW5kIHJlbW92ZUNzcyAtLS0tLVxuXG4gICAgLy8gLS0tLS0gdG9nZ2xlRmlsdGVyIG1hbmFnZXMgYm9keSBjbGFzcyAtLS0tLVxuICAgIHRvZ2dsZUZpbHRlcihlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSB7XG4gICAgICAgIGNvbnN0IGNtID0gKGVkaXRvciBhcyBhbnkpLmNtIGFzIEVkaXRvclZpZXc7XG4gICAgICAgIGlmICghY20gfHwgIShjbSBpbnN0YW5jZW9mIEVkaXRvclZpZXcpKSB7IG5ldyBOb3RpY2UoXCJSZWdleCBmaWx0ZXIgb25seSB3b3JrcyBpbiBMaXZlIFByZXZpZXcgb3IgU291cmNlIE1vZGUuXCIpOyByZXR1cm47IH1cbiAgICAgICAgY29uc3QgY3VycmVudEZpbHRlclN0YXRlID0gY20uc3RhdGUuZmllbGQoZmlsdGVyU3RhdGVGaWVsZCwgZmFsc2UpO1xuICAgICAgICBpZihjdXJyZW50RmlsdGVyU3RhdGUgPT09IHVuZGVmaW5lZCkgeyBuZXcgTm90aWNlKFwiRmlsdGVyIG5vdCByZWFkeS4gUGxlYXNlIHRyeSB0b2dnbGluZyBhZ2Fpbi5cIik7IHJldHVybjsgfVxuXG4gICAgICAgIGlmIChjdXJyZW50RmlsdGVyU3RhdGUuZW5hYmxlZCkge1xuICAgICAgICAgICAgLy8gRGlzYWJsZSBmaWx0ZXJcbiAgICAgICAgICAgIGNtLmRpc3BhdGNoKHsgZWZmZWN0czogdG9nZ2xlRmlsdGVyRWZmZWN0Lm9mKGZhbHNlKSB9KTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShBQ1RJVkVfRklMVEVSX0JPRFlfQ0xBU1MpOyAvLyBSZW1vdmUgYm9keSBjbGFzc1xuICAgICAgICAgICAgbmV3IE5vdGljZSgnUmVnZXggZmlsdGVyIGRpc2FibGVkLicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRW5hYmxlIGZpbHRlciAodmlhIHByb21wdClcbiAgICAgICAgICAgIHRoaXMucHJvbXB0Rm9yUmVnZXgoY20pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIC0tLS0tIEVuZCB0b2dnbGVGaWx0ZXIgLS0tLS1cblxuICAgIC8vIC0tLS0tIHByb21wdEZvclJlZ2V4IG1hbmFnZXMgYm9keSBjbGFzcyAtLS0tLVxuICAgIHByb21wdEZvclJlZ2V4KGNtOiBFZGl0b3JWaWV3KSB7XG4gICAgICAgIGNvbnN0IHByZWZpbGxWYWx1ZSA9IHRoaXMubGFzdFJlZ2V4U3RyID8/IHRoaXMuc2V0dGluZ3MucmVnZXhIaXN0b3J5WzBdID8/IFwiXCI7XG4gICAgICAgIG5ldyBSZWdleElucHV0TW9kYWwodGhpcy5hcHAsIHByZWZpbGxWYWx1ZSwgdGhpcy5zZXR0aW5ncy5yZWdleEhpc3RvcnksIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHsgLy8gVXNlciBzdWJtaXR0ZWQgYSByZWdleCBzdHJpbmdcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAocmVzdWx0LCAndScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZWdleFN0ciA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZWdleEhpc3RvcnkocmVzdWx0KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBEaXNwYXRjaCBlZmZlY3QgdG8gc2V0IHRoZSByZWdleFxuICAgICAgICAgICAgICAgICAgICBjbS5kaXNwYXRjaCh7IGVmZmVjdHM6IFsgc2V0UmVnZXhFZmZlY3Qub2YocmVnZXgpIF0gfSk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChBQ1RJVkVfRklMVEVSX0JPRFlfQ0xBU1MpOyAvLyBBZGQgYm9keSBjbGFzcyBvbiBzdWNjZXNzXG4gICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFJlZ2V4IGZpbHRlciBlbmFibGVkOiAvJHtyZXN1bHR9L3VgKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IC8vIEludmFsaWQgUmVnZXhcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKGUgaW5zdGFuY2VvZiBFcnJvcikgPyBlLm1lc3NhZ2UgOiBTdHJpbmcoZSk7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYEludmFsaWQgUmVnZXg6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUmVnZXggQ29tcGlsZSBFcnJvcjpcIiwgZSk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShBQ1RJVkVfRklMVEVSX0JPRFlfQ0xBU1MpOyAvLyBFbnN1cmUgY2xhc3MgcmVtb3ZlZCBvbiBlcnJvclxuICAgICAgICAgICAgICAgICAgICB0cnkgeyBjbS5kaXNwYXRjaCh7IGVmZmVjdHM6IHRvZ2dsZUZpbHRlckVmZmVjdC5vZihmYWxzZSkgfSk7IH0gY2F0Y2goZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIFVzZXIgY2FuY2VsbGVkXG4gICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1JlZ2V4IGZpbHRlciBjYW5jZWxsZWQuJyk7XG4gICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShBQ1RJVkVfRklMVEVSX0JPRFlfQ0xBU1MpOyAvLyBFbnN1cmUgY2xhc3MgcmVtb3ZlZCBvbiBjYW5jZWxcbiAgICAgICAgICAgICAgICAgdHJ5IHsgY20uZGlzcGF0Y2goeyBlZmZlY3RzOiB0b2dnbGVGaWx0ZXJFZmZlY3Qub2YoZmFsc2UpIH0pOyB9IGNhdGNoKGUpIHsgLyogSWdub3JlICovIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkub3BlbigpO1xuICAgIH1cbiAgICAvLyAtLS0tLSBFbmQgcHJvbXB0Rm9yUmVnZXggLS0tLS1cblxufSAvLyBFbmQgb2YgUGx1Z2luIENsYXNzXG5cbi8vIC0tLSBTZXR0aW5ncyBUYWIgQ2xhc3MgLS0tXG5jbGFzcyBSZWdleExpbmVGaWx0ZXJTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogUmVnZXhMaW5lRmlsdGVyUGx1Z2luOyBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBSZWdleExpbmVGaWx0ZXJQbHVnaW4pIHsgc3VwZXIoYXBwLCBwbHVnaW4pOyB0aGlzLnBsdWdpbiA9IHBsdWdpbjsgfVxuXHRkaXNwbGF5KCk6IHZvaWQgeyBjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpczsgY29udGFpbmVyRWwuZW1wdHkoKTsgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywge3RleHQ6ICdSZWdleCBMaW5lIEZpbHRlciBTZXR0aW5ncyd9KTsgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoJ0hpZGUgZW1wdHkgbGluZXMnKS5zZXREZXNjKCdXaGVuIHRoZSBmaWx0ZXIgaXMgYWN0aXZlLCBhbHNvIGhpZGUgbGluZXMgdGhhdCBjb250YWluIG9ubHkgd2hpdGVzcGFjZS4nKS5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWRlRW1wdHlMaW5lcykub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7IHRoaXMucGx1Z2luLnNldHRpbmdzLmhpZGVFbXB0eUxpbmVzID0gdmFsdWU7IGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpOyB0aGlzLnBsdWdpbi5kaXNwYXRjaFNldHRpbmdUb0VkaXRvcnModmFsdWUpOyB9KSk7IH1cbn1cblxuLy8gLS0tIE1vZGFsIENsYXNzIGRlZmluaXRpb24gKEluY2x1ZGVzIEhpc3RvcnkgRGlzcGxheSkgLS0tXG5jbGFzcyBSZWdleElucHV0TW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gICAgcmVzdWx0OiBzdHJpbmc7IG9uU3VibWl0OiAocmVzdWx0OiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkOyBpbml0aWFsVmFsdWU6IHN0cmluZzsgaGlzdG9yeTogc3RyaW5nW107IGlucHV0Q29tcG9uZW50OiBTZXR0aW5nOyB0ZXh0SW5wdXRFbDogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBpbml0aWFsVmFsdWU6IHN0cmluZywgaGlzdG9yeTogc3RyaW5nW10sIG9uU3VibWl0OiAocmVzdWx0OiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkKSB7IHN1cGVyKGFwcCk7IHRoaXMuaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlOyB0aGlzLmhpc3RvcnkgPSBoaXN0b3J5OyB0aGlzLm9uU3VibWl0ID0gb25TdWJtaXQ7IHRoaXMucmVzdWx0ID0gaW5pdGlhbFZhbHVlOyB9XG4gICAgb25PcGVuKCkgeyBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpczsgY29udGVudEVsLmVtcHR5KCk7IGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdFbnRlciBSZWdleCBGaWx0ZXInIH0pOyB0aGlzLmlucHV0Q29tcG9uZW50ID0gbmV3IFNldHRpbmcoY29udGVudEVsKS5zZXROYW1lKCdSZWd1bGFyIEV4cHJlc3Npb24gKHN1cHBvcnRzIGVtb2ppKTonKS5hZGRUZXh0KCh0ZXh0KSA9PiB7IHRoaXMudGV4dElucHV0RWwgPSB0ZXh0LmlucHV0RWw7IHRleHQuc2V0VmFsdWUodGhpcy5pbml0aWFsVmFsdWUpLnNldFBsYWNlaG9sZGVyKCdlLmcuLCBeXFxcXHMqLSBcXFxcWyBcXFxcXS4qXHVEODNEXHVEQ0ExJykub25DaGFuZ2UoKHZhbHVlKSA9PiB7IHRoaXMucmVzdWx0ID0gdmFsdWU7IH0pOyB0ZXh0LmlucHV0RWwuZm9jdXMoKTsgdGV4dC5pbnB1dEVsLnNlbGVjdCgpOyB0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7IGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSAmJiAhZS5jdHJsS2V5ICYmICFlLm1ldGFLZXkgJiYgIWUuYWx0S2V5KSB7IGUucHJldmVudERlZmF1bHQoKTsgdGhpcy5zdWJtaXQoKTsgfSB9KTsgfSk7IHRoaXMuaW5wdXRDb21wb25lbnQuY29udHJvbEVsLmFkZENsYXNzKCdyZWdleC1maWx0ZXItaW5wdXQtY29udHJvbCcpOyBpZiAodGhpcy5oaXN0b3J5ICYmIHRoaXMuaGlzdG9yeS5sZW5ndGggPiAwKSB7IGNvbnN0IGhpc3RvcnlFbCA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdyZWdleC1maWx0ZXItaGlzdG9yeS1jb250YWluZXInIH0pOyBoaXN0b3J5RWwuY3JlYXRlU3Bhbih7IHRleHQ6ICdIaXN0b3J5OicsIGNsczogJ3JlZ2V4LWZpbHRlci1oaXN0b3J5LWxhYmVsJyB9KTsgdGhpcy5oaXN0b3J5LmZvckVhY2goaGlzdEVudHJ5ID0+IHsgY29uc3QgYnRuID0gaGlzdG9yeUVsLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6IGAvJHtoaXN0RW50cnl9L2AsIGNsczogJ3JlZ2V4LWZpbHRlci1oaXN0b3J5LWl0ZW0nLCBhdHRyOiB7IHRpdGxlOiBoaXN0RW50cnkgfSB9KTsgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4geyBpZiAodGhpcy50ZXh0SW5wdXRFbCkgeyB0aGlzLnRleHRJbnB1dEVsLnZhbHVlID0gaGlzdEVudHJ5OyB0aGlzLnJlc3VsdCA9IGhpc3RFbnRyeTsgdGhpcy50ZXh0SW5wdXRFbC5mb2N1cygpOyB9IH0pOyB9KTsgfSBuZXcgU2V0dGluZyhjb250ZW50RWwpLmFkZEJ1dHRvbigoYnRuKSA9PiBidG4uc2V0QnV0dG9uVGV4dCgnQXBwbHkgRmlsdGVyJykuc2V0Q3RhKCkub25DbGljaygoKSA9PiB7IHRoaXMuc3VibWl0KCk7IH0pKS5hZGRCdXR0b24oKGJ0bikgPT4gYnRuLnNldEJ1dHRvblRleHQoJ0NhbmNlbCcpLm9uQ2xpY2soKCkgPT4geyB0aGlzLmNsb3NlKCk7IHRoaXMub25TdWJtaXQobnVsbCk7IH0pKTsgfVxuICAgIHN1Ym1pdCgpIHsgaWYgKHRoaXMucmVzdWx0ICYmIHRoaXMucmVzdWx0LnRyaW0oKS5sZW5ndGggPiAwKSB7IHRoaXMuY2xvc2UoKTsgdGhpcy5vblN1Ym1pdCh0aGlzLnJlc3VsdCk7IH0gZWxzZSBpZiAodGhpcy5yZXN1bHQgPT09IFwiXCIpIHsgbmV3IE5vdGljZShcIlJlZ2V4IGNhbm5vdCBiZSBlbXB0eS4gRmlsdGVyIGNhbmNlbGxlZC5cIik7IHRoaXMuY2xvc2UoKTsgdGhpcy5vblN1Ym1pdChudWxsKTsgfSBlbHNlIHsgbmV3IE5vdGljZShcIlBsZWFzZSBlbnRlciBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cIik7IH0gfVxuICAgIG9uQ2xvc2UoKSB7IGxldCB7IGNvbnRlbnRFbCB9ID0gdGhpczsgY29udGVudEVsLmVtcHR5KCk7IH1cbn1cbi8vIC0tLSBFbmQgb2YgTW9kYWwgQ2xhc3MgZGVmaW5pdGlvbiAtLS0iXSwKICAibWFwcGluZ3MiOiAi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
